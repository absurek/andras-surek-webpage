---
import BlogPostPreview from '@/components/BlogPostPreview.astro';
import Link from '@/components/ui/Link.astro';
import Layout from '@/layouts/Layout.astro';

import { getCollection } from 'astro:content';

const posts = await getCollection('posts');
const featuredPosts = posts.filter((post) => post.data.featured).slice(0, 4);
---

<Layout title="Surek András — Blog">
  <section id="intro" class="container flex justify-center">
    <div class="max-w-xl text-foreground text-justify prose lg:prose-xl">
      <h1 class="text-center text-foreground">Blog</h1>
      <p>
        Ezt a blogot elsősorban személyes archívumnak szánom. Ugyanakkor
        igyekszem átgondolt és strukturált referencia ponttá tenni, amely
        nemcsak nekem, hanem minden kedves érdeklődőnek hasznos lehet.
      </p>
    </div>
  </section>

  <section
    id="posts"
    class="max-w-xl container flex flex-col items-center mt-8"
  >
    <div class="grid grid-cols-1 md:grid-cols-2 justify-between w-full gap-4">
      {featuredPosts.map((post) => <BlogPostPreview {post} />)}
    </div>
    <div class="my-8 md:self-end">
      <Link href="/blog/all/">További bejegyzések &rarr;</Link>
    </div>
  </section>
</Layout>
